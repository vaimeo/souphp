<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>SyntaxHighlighter Server Side Demo</title>
	<script type="text/javascript" src="shl/scripts/XRegExp.js"></script> <!-- XRegExp is bundled with the final shCore.js during build -->
	<script type="text/javascript" src="shl/scripts/shCore.js"></script>
	<script type="text/javascript" src="shl/scripts/shBrushJScript.js"></script>
	<link type="text/css" rel="stylesheet" href="shl/styles/shCore.css"/>
	<link type="text/css" rel="Stylesheet" href="shl/styles/shThemeDefault.css" />
</head>

<body>

<script type="text/plain" id="input">
<!DOCTYPE html>
<?php
require_once("include/config/condb.php");
require_once("include/interface/database_interface.php");
require_once("include/classes/picture.php");
require_once("include/classes/php.php");
require_once("include/classes/sql.php");
require_once("include/manupuator/data_manupuator.php");
require_once("include/classes/pager.php");
require_once("include/dataView/globalView.php");
require_once("include/htmlConfig/configure_html.php");

$data_manupuator=new data_manupuator();
$php=new php_framework();

$data_manupuator->imagedir="images/category/";

if($_POST['add'])
{
	$data_manupuator->_files=$_FILES;
	$data_manupuator->_post=$_POST;
	$data_manupuator->add(0);
}

if($_POST['update'])
{
	$data_manupuator->_files=$_FILES;
	$data_manupuator->_post=$_POST;
	$data_manupuator->update(0);
}



if($_GET['remove'])
{
	$id=mysql_real_escape_string($_GET['remove']);
	$data_manupuator->remove(0,$id,array('3'=>'picture','4'=>'picture','5'=>'picture'),array("3"=>"images/category/","4"=>"images/category/","5"=>"images/category/"));
}





?><head>
<title>SouPHP</title>
<link rel="stylesheet" href="css/style.css">
</head>


<div class="main_container shadow">
  <form  method="post" enctype="multipart/form-data">
    <table width="100%">
      <tr>
        <td colspan="2"><div class="headgrid">
            <h2>submit record</h2>
          </div></td>
      </tr>
      <tr>
        <td><div id="contoler_container">
            <div class="_25">
              <label>name</label>
              <input type="hidden" id="category_id" name="category_id">
              <input type="text" id="category_name" name="category_name">
            </div>
            <div class="_25">
              <label>isvisible</label>
              <input type="radio" name="category_isvisible" id="category_isvisible1" value="1">
              Yes
              <input type="radio" name="category_isvisible" id="category_isvisible0" value="0">
              No </div>
            <div class="_25">
              <label>Picture</label>
              <input type="file" name="category_picture">
              <div id="category_picture"></div>
            </div>
          </div></td>
        <td><div class="footgrid">
            <input type="button"  value="submit">
            <input type="submit"  id="add"  value="add" name="add">
            <input type="submit"  style="display:none" id="update"  value="update" name="update">
          </div></td>
      </tr>
    </table>
  </form>
</div>
<br />
<div class="main_container shadow">
  <div class="headgrid">
    <h2>Records List</h2>
  </div>
  <?php
  		$generate_data=new generate_data();
		$generate_data->_column_sequence_picture_prams=array("3"=>array("images/category/","100px","100px"));
		$generate_data->_column_sequence=array("0","1","2","3"=>"picture");
		$generate_data->edit_column_sequence=array("0","1","2","3");
		//$generate_data->_column_foregn_key_index=array(array("2","3"));
		$generate_data->allow_action=true;
		$generate_data->action=array("edit","remove","checkbox");
		$generate_data->page_url="index.php?";
		$generate_data->touch_html(0);
?>
</div>
<script>
var s = "foo";


	function confirm_Remove(url)
	{
		if(confirm("are you sure?"))
		{
			window.location=url;
		}
	}
	
	
	
	
	function getarray(arrayval)
	{
		
		c=0;
		for(var i in arrayval)
		{
			av=Array (arrayval[c]);
			
			document.getElementById("add").style.display="none";
			document.getElementById("update").style.display="block";
		
			
				
				if(av[0][0]=="category_isvisible")
				{
					
					if(av[0][1]==1)
					{
						document.getElementById("category_isvisible0").checked=false;
						document.getElementById("category_isvisible1").checked=true;
					}
					else
					{
					
						document.getElementById("category_isvisible0").checked=true;
						document.getElementById("category_isvisible1").checked=false;
			
					}

				}
				else
				{
					if(av[0][0]=="category_picture")
					{
						document.getElementById(av[0][0]).innerHTML="<embed src='images/category/"+av[0][1]+"' width='150px' alt='images/category/"+av[0][1]+"'></embed>";
					}
					else
					{
						document.getElementById(av[0][0]).value=av[0][1];
					}
				}
			c++;
			
		}
	
		
	}
	
	
	
</script> 
</script>

<script type="text/javascript">
var brush = new SyntaxHighlighter.brushes.JScript(),
	code = document.getElementById('input').innerHTML,
	html
	;
	
brush.init({ toolbar: false });
html = brush.getHtml(code);

document.write(html);
</script>

</body>
</html>

